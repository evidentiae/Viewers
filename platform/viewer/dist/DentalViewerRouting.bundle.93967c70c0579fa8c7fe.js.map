{"version":3,"sources":["webpack:///./routes/DentalViewerRouting.js"],"names":["UrlUtil","utils","urlUtil","getSeriesInstanceUIDs","seriesInstanceUIDs","routeLocation","queryFilters","queryString","getQueryFilters","querySeriesUIDs","_seriesInstanceUIDs","paramString","parseParam","DentalViewerRouting","routeMatch","match","location","params","project","dataset","dicomStore","studyInstanceUIDs","authToken","useQuery","get","user","getAccessToken","server","useServer","studyUIDs","seriesUIDs","propTypes","PropTypes","shape","string","isRequired","any"],"mappings":"0FAAA,0FAOiBA,EAAYC,IAArBC,QAOFC,EAAwB,SAACC,EAAoBC,GACjD,IAAMC,EAAeN,EAAQO,YAAYC,gBAAgBH,GACnDI,EAAkBH,GAAgBA,EAAY,kBAC9CI,EAAsBN,GAAsBK,EAElD,OAAOT,EAAQW,YAAYC,WAAWF,IAGxC,SAASG,EAAT,GAA6E,IAAvCC,EAAuC,EAA9CC,MAA6BV,EAAiB,EAA3BW,SAA2B,EAQvEF,EAAWG,OANbC,EAFyE,EAEzEA,QACAF,EAHyE,EAGzEA,SACAG,EAJyE,EAIzEA,QACAC,EALyE,EAKzEA,WACAC,EANyE,EAMzEA,kBACAjB,EAPyE,EAOzEA,mBAQIkB,EADMC,cACYC,IAAI,SAExBF,IACFG,IAAKC,eAAiB,kBAAMJ,IAG9B,IAAMK,EAASC,YAAU,CAAEV,UAASF,WAAUG,UAASC,eACjDS,EAAY7B,EAAQW,YAAYC,WAAWS,GAC3CS,EAAa3B,EAAsBC,EAAoBC,GAE7D,OAAIsB,GAAUE,EAEV,kBAAC,IAAD,CACER,kBAAmBQ,EACnBzB,mBAAoB0B,IAKnB,KAGTjB,EAAoBkB,UAAY,CAC9BhB,MAAOiB,IAAUC,MAAM,CACrBhB,OAAQe,IAAUC,MAAM,CACtBZ,kBAAmBW,IAAUE,OAAOC,WACpC/B,mBAAoB4B,IAAUE,OAC9Bf,QAASa,IAAUE,OACnBd,WAAYY,IAAUE,OACtBlB,SAAUgB,IAAUE,OACpBhB,QAASc,IAAUE,WAGvBlB,SAAUgB,IAAUI,KAGPvB","file":"DentalViewerRouting.bundle.93967c70c0579fa8c7fe.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { utils, user } from '@ohif/core';\n//\nimport ConnectedViewerRetrieveStudyData from '../connectedComponents/ConnectedViewerRetrieveStudyData';\nimport useServer from '../customHooks/useServer';\nimport useQuery from '../customHooks/useQuery';\nconst { urlUtil: UrlUtil } = utils;\n\n/**\n * Get array of seriesUIDs from param or from queryString\n * @param {*} seriesInstanceUIDs\n * @param {*} location\n */\nconst getSeriesInstanceUIDs = (seriesInstanceUIDs, routeLocation) => {\n  const queryFilters = UrlUtil.queryString.getQueryFilters(routeLocation);\n  const querySeriesUIDs = queryFilters && queryFilters['seriesInstanceUID'];\n  const _seriesInstanceUIDs = seriesInstanceUIDs || querySeriesUIDs;\n\n  return UrlUtil.paramString.parseParam(_seriesInstanceUIDs);\n};\n\nfunction DentalViewerRouting({ match: routeMatch, location: routeLocation }) {\n  const {\n    project,\n    location,\n    dataset,\n    dicomStore,\n    studyInstanceUIDs,\n    seriesInstanceUIDs,\n  } = routeMatch.params;\n\n  // Set the user's default authToken for outbound DICOMWeb requests.\n  // Is only applied if target server does not set `requestOptions` property.\n  //\n  // See: `getAuthorizationHeaders.js`\n  let query = useQuery();\n  const authToken = query.get('token');\n\n  if (authToken) {\n    user.getAccessToken = () => authToken;\n  }\n\n  const server = useServer({ project, location, dataset, dicomStore });\n  const studyUIDs = UrlUtil.paramString.parseParam(studyInstanceUIDs);\n  const seriesUIDs = getSeriesInstanceUIDs(seriesInstanceUIDs, routeLocation);\n\n  if (server && studyUIDs) {\n    return (\n      <ConnectedViewerRetrieveStudyData\n        studyInstanceUIDs={studyUIDs}\n        seriesInstanceUIDs={seriesUIDs}\n      />\n    );\n  }\n\n  return null;\n}\n\nDentalViewerRouting.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      studyInstanceUIDs: PropTypes.string.isRequired,\n      seriesInstanceUIDs: PropTypes.string,\n      dataset: PropTypes.string,\n      dicomStore: PropTypes.string,\n      location: PropTypes.string,\n      project: PropTypes.string,\n    }),\n  }),\n  location: PropTypes.any,\n};\n\nexport default DentalViewerRouting;\n"],"sourceRoot":""}